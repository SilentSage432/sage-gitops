/* === SAGE FEDERATION LAYOUT STYLING === */

:root {
  --sage-state-color: rgba(120, 65, 255, 0.10);
}

.federation-left-nav {
  position: relative;
  background: var(--sage-bg-panel);
  border: 1px solid var(--sage-border-glow);
  border-radius: 18px;
  backdrop-filter: blur(18px) saturate(160%);
  box-shadow:
    inset 0 0 22px rgba(180, 80, 255, 0.05),
    0 0 28px rgba(0, 0, 0, 0.45);
  transition: all 240ms ease;
  animation: sage-breath 7s ease-in-out infinite;
}

.federation-command-core {
  position: relative;
  background: radial-gradient(
      circle at 50% 0%,
      rgba(140, 60, 255, 0.06),
      transparent 65%
    ),
    var(--sage-bg-panel);
  border: 1px solid rgba(180, 80, 255, 0.18);
  border-radius: 18px;
  backdrop-filter: blur(18px) saturate(160%);
  box-shadow:
    inset 0 0 22px rgba(180, 80, 255, 0.05),
    0 0 28px rgba(0, 0, 0, 0.45);
  transition: all 240ms ease;
  animation: federationCoreBreath 12s ease-in-out infinite;
}

.federation-command-core.active {
  box-shadow:
    0 0 26px rgba(168, 94, 255, 0.16),
    inset 0 0 10px rgba(168, 94, 255, 0.14);
}

.federation-intel-stack {
  background: var(--sage-bg-panel);
  border: 1px solid var(--sage-border-glow);
  border-radius: 18px;
  backdrop-filter: blur(18px) saturate(160%);
  box-shadow:
    inset 0 0 22px rgba(180, 80, 255, 0.05),
    0 0 28px rgba(0, 0, 0, 0.45);
  transition: all 240ms ease;
  animation: sage-breath 7s ease-in-out infinite;
}

.federation-input-dock {
  background: rgba(10, 12, 19, 0.9);
  border-top: 1px solid rgba(120, 86, 255, 0.15);
  border-radius: 18px;
  box-shadow:
    0 0 16px rgba(120, 86, 255, 0.10),
    inset 0 0 14px rgba(120, 86, 255, 0.05);
  backdrop-filter: blur(8px);
  transition: all 260ms ease;
}

.federation-input-dock:focus-within {
  box-shadow:
    0 0 32px rgba(180, 110, 255, 0.32),
    inset 0 0 14px rgba(180, 110, 255, 0.22);
  transition: box-shadow 220ms ease-out;
}

.federation-left-nav:hover {
  box-shadow:
    0 0 22px var(--sage-holo-primary),
    inset 0 0 18px rgba(0, 0, 0, 0.5);
  transition: box-shadow 220ms ease;
}

.federation-intel-stack:hover {
  border-color: rgba(200, 120, 255, 0.32);
  box-shadow:
    inset 0 0 22px rgba(180, 80, 255, 0.05),
    0 0 28px rgba(0, 0, 0, 0.45),
    0 0 22px rgba(200, 120, 255, 0.08);
}

.federation-left-nav::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(
    to bottom,
    rgba(200, 120, 255, 0.08),
    transparent
  );
}

.federation-intel-stack.busy {
  --sage-state-color: rgba(255, 170, 90, 0.22);
  box-shadow:
    0 0 28px var(--sage-state-color),
    inset 0 0 14px rgba(255, 170, 90, 0.18);
}

.federation-intel-stack button.active {
  background: rgba(168, 94, 255, 0.22);
  box-shadow:
    0 0 12px rgba(168, 94, 255, 0.32),
    inset 0 0 8px rgba(168, 94, 255, 0.22);
  transition: all 180ms ease;
}

.federation-intel-stack button:hover {
  transform: translateY(-1px);
  transition: transform 160ms ease;
}

@keyframes sage-breath {
  0% { box-shadow: 0 0 18px rgba(120, 65, 255, 0.06); }
  50% { box-shadow: 0 0 32px rgba(120, 65, 255, 0.12); }
  100% { box-shadow: 0 0 18px rgba(120, 65, 255, 0.06); }
}

@keyframes sage-holo-edge {
  0%   { opacity: 0; }
  35%  { opacity: 0.65; }
  100% { opacity: 0; }
}

.federation-command-core::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: radial-gradient(
    circle at 50% 0%,
    var(--sage-holo-pulse),
    transparent 70%
  );
  opacity: 0;
  animation: sage-holo-edge 6s ease-out infinite;
}

@keyframes sage-scanline {
  0%   { transform: translateY(-100%); }
  100% { transform: translateY(200%); }
}

.federation-command-core::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  height: 120%;
  background: linear-gradient(
    to bottom,
    transparent,
    var(--sage-holo-scan),
    transparent
  );
  animation: sage-scanline 9s linear infinite;
  opacity: 0.08;
  pointer-events: none;
}

/* Phase 6: Autonomous Calm / Alert States */
.federation-command-core,
.federation-left-nav,
.federation-intel-stack {
  transition: box-shadow 360ms ease, background 360ms ease;
}

.federation-command-core.active,
.federation-left-nav.active {
  --sage-state-color: rgba(150, 90, 255, 0.18);
  box-shadow:
    0 0 32px var(--sage-state-color),
    inset 0 0 14px rgba(150, 90, 255, 0.12);
}

/* Command Bridge Phase 2: Visual Foundation */
.command-bridge-log {
  background: rgba(10, 10, 16, 0.55);
  backdrop-filter: blur(18px) saturate(145%);
  border-radius: 14px;
  border: 1px solid rgba(120, 65, 255, 0.18);
  padding: 12px 16px;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: rgba(120, 65, 255, 0.35) transparent;
  transition: background 260ms ease, box-shadow 420ms ease-out, border-color 420ms ease-out;
}

.command-bridge-log::-webkit-scrollbar {
  width: 6px;
}

.command-bridge-log::-webkit-scrollbar-thumb {
  background: rgba(120, 65, 255, 0.35);
  border-radius: 10px;
}

.command-bridge-log::-webkit-scrollbar-thumb:hover {
  background: rgba(120, 65, 255, 0.5);
}

.sage-command-bar {
  background: rgba(12, 12, 18, 0.75);
  backdrop-filter: blur(22px) saturate(155%);
  border-radius: 14px;
  border: 1px solid rgba(120, 65, 255, 0.22);
  padding: 14px 16px;
  margin-top: 12px;
  transition: border-color 220ms ease, box-shadow 220ms ease;
}

/* Command Bridge Phase 3: Execution Feedback */
.sage-command-bar.active {
  box-shadow:
    0 0 28px rgba(168, 94, 255, 0.28),
    inset 0 0 12px rgba(168, 94, 255, 0.22);
  transition: box-shadow 180ms ease-out;
}

.command-bridge-log.processing {
  border-color: rgba(168, 94, 255, 0.38);
  box-shadow:
    0 0 32px rgba(168, 94, 255, 0.22),
    inset 0 0 12px rgba(168, 94, 255, 0.14);
  transition: box-shadow 260ms ease-in-out, border-color 260ms ease;
}

/* === F4 Volumetric Focus Layer === */
@keyframes federationPulseActivate {
  0% { transform: scale(1); }
  32% { transform: scale(1.015); }
  100% { transform: scale(1); }
}

@keyframes federationCoreBreath {
  0% { filter: brightness(0.94) saturate(0.92); }
  50% { filter: brightness(1.02) saturate(1.04); }
  100% { filter: brightness(0.94) saturate(0.92); }
}

@media (prefers-reduced-motion: reduce) {
  .federation-command-core,
  .federation-active {
    animation: none !important;
  }
}

.federation-active {
  transition:
    box-shadow 420ms ease,
    opacity 420ms ease,
    filter 420ms ease;
  filter: brightness(1.12) saturate(1.08);
  animation: federationPulseActivate 140ms ease-out;
}

.federation-idle {
  opacity: 0.85;
  transition: opacity 320ms ease;
}

.federation-command-core.federation-active {
  box-shadow:
    inset 0 0 22px rgba(180, 80, 255, 0.05),
    0 0 28px rgba(0, 0, 0, 0.45),
    0 0 22px rgba(120, 0, 255, 0.32);
}

.federation-left-nav.federation-active,
.federation-intel-stack.federation-active {
  box-shadow: inset 0 0 18px rgba(90, 0, 160, 0.28);
}

/* === Prime Terminal Panel === */
.prime-terminal-panel {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  background: radial-gradient(
    circle at 50% 0%,
    rgba(88, 62, 151, 0.18),
    rgba(10, 8, 15, 0.92) 70%
  );
  border-radius: 22px;
  box-shadow:
    0 0 18px rgba(123, 97, 255, 0.22),
    inset 0 0 28px rgba(123, 97, 255, 0.12);
  padding: 32px 40px;
  display: flex;
  flex-direction: column;
  gap: 24px;
  height: 100%;
  backdrop-filter: blur(22px) saturate(140%);
  border: 1px solid rgba(140, 120, 255, 0.18);
}

.prime-terminal-log {
  flex: 1;
  overflow-y: auto;
  font-family: var(--sage-font-mono);
  font-size: 14px;
  line-height: 1.55;
  color: rgba(230, 230, 235, 0.9);
  animation: terminalFadeIn 0.6s ease forwards;
  opacity: 0;
}

.prime-terminal-input {
  width: 100%;
  max-width: 780px;
  margin: 0 auto;
  padding-top: 12px;
  border-top: 1px solid rgba(130, 115, 200, 0.22);
}

/* === Prime Terminal Atmospheric Enhancements === */
.prime-terminal-aura {
  position: relative;
}

.prime-terminal-aura::before {
  content: "";
  position: absolute;
  inset: -60px;
  background: radial-gradient(
    circle at 50% 0%,
    rgba(140, 90, 255, 0.15),
    rgba(20, 10, 40, 0) 70%
  );
  filter: blur(60px);
  pointer-events: none;
  z-index: -1;
}

.prime-terminal-panel:hover {
  border-color: rgba(170, 150, 255, 0.28);
  transition: border-color 0.35s ease;
}


@keyframes terminalFadeIn {
  to { opacity: 1; }
}

.prime-terminal-input-focus input:focus,
.prime-terminal-input-focus textarea:focus {
  box-shadow:
    0 0 18px rgba(150, 120, 255, 0.35),
    inset 0 0 12px rgba(150, 120, 255, 0.25);
  transition: box-shadow 0.25s ease;
}

.prime-terminal-input-focus {
  transition: transform 0.25s ease;
}

.prime-terminal-input-focus:focus-within {
  transform: translateY(-2px);
}

/* === Phase P-3: Holo-Glass Command Feedback === */
@keyframes primeCommandPulse {
  0% { opacity: 0.65; filter: drop-shadow(0 0 0px rgba(160,130,255,0.0)); }
  45% { opacity: 1; filter: drop-shadow(0 0 6px rgba(160,130,255,0.35)); }
  100% { opacity: 1; filter: drop-shadow(0 0 0px rgba(160,130,255,0.0)); }
}

@keyframes primeResponseFade {
  0% { opacity: 0; transform: translateY(2px); }
  100% { opacity: 1; transform: translateY(0); }
}

.prime-terminal-line {
  animation: primeResponseFade 0.32s ease forwards;
}

.prime-terminal-line-command {
  animation: primeCommandPulse 420ms ease-out;
  color: rgba(200, 185, 255, 0.95);
}

.prime-input-aura input:focus,
.prime-input-aura textarea:focus {
  box-shadow:
    0 0 22px rgba(160,130,255,0.35),
    inset 0 0 14px rgba(160,130,255,0.25);
  transition: box-shadow 0.25s ease;
}

@media (prefers-reduced-motion: reduce) {
  .prime-terminal-line,
  .prime-terminal-line-command {
    animation: none !important;
  }
}

/* === Phase P-4: PRIME Reactive Stream Layer === */

/* Signal-based visual grouping */
.prime-terminal-line-system {
  border-left: 2px solid rgba(100, 150, 255, 0.25);
  padding-left: 8px;
}

.prime-terminal-line-arc {
  border-left: 2px solid rgba(100, 255, 255, 0.3);
  padding-left: 8px;
}

.prime-terminal-line-rho2 {
  border-left: 2px solid rgba(180, 120, 255, 0.35);
  padding-left: 8px;
}

.prime-terminal-line-error {
  border-left: 2px solid rgba(255, 100, 120, 0.4);
  padding-left: 8px;
}

.prime-terminal-line-heartbeat {
  opacity: 0.6;
  animation: heartbeatPulse 2s ease-in-out infinite;
}

@keyframes heartbeatPulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 0.85; }
}

/* Idle → active reactive glow */
.prime-terminal-idle {
  filter: brightness(0.88) saturate(0.92);
  transition: filter 0.6s ease;
}

.prime-terminal-active {
  filter: brightness(1) saturate(1);
  transition: filter 0.9s ease;
}

.prime-terminal-activated {
  filter: brightness(1.08) saturate(1.06);
  transition: filter 0.2s ease;
}

/* Processing pulse underline */
.prime-terminal-processing::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 60%;
  max-width: 500px;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(155, 122, 255, 0.35) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: processingPulse 2.8s linear infinite;
  border-radius: 1px;
}

@keyframes processingPulse {
  0% {
    background-position: -100% 0;
  }
  100% {
    background-position: 100% 0;
  }
}

.prime-terminal-input {
  position: relative;
}

.sage-terminal-input {
  font-family: var(--font-mono);
  position: relative;
}

.sage-terminal-input .ghost {
  position: absolute;
  left: 12px;
  top: 10px;
  opacity: 0.18;
  pointer-events: none;
  user-select: none;
}

/* === Phase S-Prime-4: PRIME Command-Response Micro-Animations === */
.prime-ripple {
  backdrop-filter: brightness(1.12) saturate(1.08);
  transition: all 280ms ease;
}

/* Streaming mode animation (for incrementally appended text) */
.prime-terminal-streaming {
  animation: primeStreamFade 0.08s linear;
}

@keyframes primeStreamFade {
  0% {
    opacity: 0;
    transform: translateX(1px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

/* === Phase P-5: PRIME Neural Presence Overlay === */
.prime-neural-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(
    circle at 50% 60%,
    rgba(120, 70, 255, 0.10),
    rgba(0, 0, 0, 0) 60%
  );
  opacity: 0;
  transition: opacity 600ms ease, filter 600ms ease;
  filter: blur(28px) saturate(1.08);
  z-index: 0;
}

.prime-state-processing {
  opacity: 0.22;
  filter: blur(34px) saturate(1.12);
}

.prime-state-streaming {
  opacity: 0.18;
  filter: blur(26px) saturate(1.10);
}

.prime-state-idle {
  opacity: 0.08;
}

/* === Phase P-6: Oracle Silence Layer === */
.prime-silent-idle {
  filter: saturate(0.92);
}

.prime-input-silent {
  caret-color: rgba(255, 255, 255, 0.55);
}

.prime-input-silent::placeholder {
  opacity: 0.65;
}

.prime-pre-response {
  filter: saturate(0.88) brightness(0.97);
  transition: filter 120ms ease;
}

/* Do not modify or remove this comment.
   Styling only — no logic changes. */

